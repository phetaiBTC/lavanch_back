{
    "sourceFile": "src/modules/address/infrastructure/address.mapper.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1764856324756,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1764856324756,
            "name": "Commit-0",
            "content": "import { ProvinceOrm } from 'src/database/typeorm/province.orm-entity';\r\nimport { District, Province, Village } from '../domain/address.entity';\r\nimport {\r\n  DistrictResponse,\r\n  ProvinceResponse,\r\n  VillageResponse,\r\n} from '../interface/address.interface';\r\nimport { DistrictOrm } from 'src/database/typeorm/district.orm-entity';\r\nimport { VillageOrm } from 'src/database/typeorm/village.orm-entity';\r\n\r\nexport const ProvinceMapper = {\r\n  toDomain(schema: ProvinceOrm): Province {\r\n    return new Province({\r\n      id: schema.id,\r\n      name: schema.name,\r\n      name_en: schema.name_en,\r\n    });\r\n  },\r\n  toSchema(domain: Province): ProvinceOrm {\r\n    const schema = new ProvinceOrm();\r\n    if (domain.value.id != null) schema.id = domain.value.id;\r\n    schema.name = domain.value.name;\r\n    if (domain.value.name_en != null) schema.name_en = domain.value.name_en;\r\n    return schema;\r\n  },\r\n  toResponseList(domain: Province[]): ProvinceResponse[] {\r\n    return domain.map((d) => ({\r\n      id: d.value.id!,\r\n      name: d.value.name,\r\n      name_en: d.value.name_en,\r\n    }));\r\n  },\r\n  toResponse(domain: Province): ProvinceResponse {\r\n    return {\r\n      id: domain.value.id!,\r\n      name: domain.value.name,\r\n      name_en: domain.value.name_en,\r\n    }\r\n  },\r\n};\r\n\r\nexport const DistrictMapper = {\r\n  toDomain(schema: DistrictOrm): District {\r\n    return new District({\r\n      id: schema.id,\r\n      name: schema.name,\r\n      name_en: schema.name_en,\r\n      province: ProvinceMapper.toDomain(schema.province),\r\n    });\r\n  },\r\n  toSchema(domain: District): DistrictOrm {\r\n    const schema = new DistrictOrm();\r\n    if (domain.value.id) schema.id = domain.value.id;\r\n    schema.name = domain.value.name;\r\n    if (domain.value.name_en) schema.name_en = domain.value.name_en;\r\n    if (domain.value.province)\r\n      schema.province = ProvinceMapper.toSchema(domain.value.province);\r\n    return schema;\r\n  },\r\n  toResponse(domain: District[]): DistrictResponse[] {\r\n    return domain.map((d) => ({\r\n      id: d.value.id!,\r\n      name: d.value.name,\r\n      name_en: d.value.name_en,\r\n      province: d.value.province\r\n        ? {\r\n            id: d.value.province.value.id!,\r\n            name: d.value.province.value.name,\r\n            name_en: d.value.province.value.name_en,\r\n          }\r\n        : undefined,\r\n    }));\r\n  },\r\n};\r\n\r\nexport const VillageMapper = {\r\n  toDomain(schema: VillageOrm): Village {\r\n    return new Village({\r\n      id: schema.id,\r\n      name: schema.name,\r\n      name_en: schema.name_en,\r\n      district: DistrictMapper.toDomain(schema.district),\r\n    });\r\n  },\r\n  toSchema(domain: Village): VillageOrm {\r\n    const schema = new VillageOrm();\r\n    if (domain.value.id) schema.id = domain.value.id;\r\n    schema.name = domain.value.name;\r\n    if (domain.value.name_en) schema.name_en = domain.value.name_en;\r\n    if (domain.value.district)\r\n      schema.district = DistrictMapper.toSchema(domain.value.district);\r\n    return schema;\r\n  },\r\n  toResponse(domain: Village): VillageResponse {\r\n    return {\r\n      id: domain.value.id!,\r\n      name: domain.value.name,\r\n      name_en: domain.value.name_en,\r\n      district: domain.value.district\r\n        ? {\r\n            id: domain.value.district.value.id!,\r\n            name: domain.value.district.value.name,\r\n            name_en: domain.value.district.value.name_en,\r\n            province: domain.value.district.value.province\r\n              ? {\r\n                  id: domain.value.district.value.province.value.id!,\r\n                  name: domain.value.district.value.province.value.name,\r\n                  name_en: domain.value.district.value.province.value.name_en,\r\n                }\r\n              : undefined,\r\n          }\r\n        : undefined,\r\n    }\r\n  },\r\n  toResponseList(domain: Village[]): VillageResponse[] {\r\n    return domain.map((d) => ({\r\n      id: d.value.id!,\r\n      name: d.value.name,\r\n      name_en: d.value.name_en,\r\n      district: d.value.district\r\n        ? {\r\n            id: d.value.district.value.id!,\r\n            name: d.value.district.value.name,\r\n            name_en: d.value.district.value.name_en,\r\n            province: d.value.district.value.province\r\n              ? {\r\n                  id: d.value.district.value.province.value.id!,\r\n                  name: d.value.district.value.province.value.name,\r\n                  name_en: d.value.district.value.province.value.name_en,\r\n                }\r\n              : undefined,\r\n          }\r\n        : undefined,\r\n    }));\r\n  },\r\n};\r\n"
        }
    ]
}