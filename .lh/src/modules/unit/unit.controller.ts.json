{
    "sourceFile": "src/modules/unit/unit.controller.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1764856533754,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1764856533754,
            "name": "Commit-0",
            "content": "import {\r\n  Controller,\r\n  Patch,\r\n  Param,\r\n  Body,\r\n  Post,\r\n  Get,\r\n  Query,\r\n} from '@nestjs/common';\r\nimport { Unit } from './domain/unit.entity';\r\nimport { UnitOrm } from 'src/database/typeorm/unit.orm-entity';\r\nimport { UnitResponse } from './interface/unit.interface';\r\nimport { CreateUnitDto } from './dto/create-Unit.dto';\r\nimport { UpdateUnitDto } from './dto/update-Unit.dto';\r\nimport { ActiveDto } from 'src/shared/dto/avtive.dto';\r\nimport { UnitMapper } from './infrastructure/unit.mapper';\r\nimport { CreateUnitUseCase } from './application/commands/create-Unit.usecase';\r\nimport { UpdateUnitUseCase } from './application/commands/update-Unit.usecase';\r\nimport { FindOneUnitUseCase } from './application/queries/findOne-Unit.usecase';\r\nimport { FindAllUnitUseCase } from './application/queries/find-Unit.usecase';\r\nimport { HardDeleteUnitUseCase } from './application/commands/hard-Unit.usecase';\r\nimport { SoftDeleteUnitUseCase } from './application/commands/soft-Unit.usecase';\r\nimport { RestoreUnitUseCase } from './application/commands/restore-Unit.usecase';\r\nimport { ActiveUnitUseCase } from './application/commands/active-Unit.usecase';\r\nimport { BaseController } from 'src/shared/BaseModule/BaseController';\r\nimport { BaseControllerSetup } from 'src/shared/BaseModule/base.controller';\r\nimport { PaginationDto } from 'src/shared/dto/pagination.dto';\r\nimport { PaginatedResponse } from 'src/shared/interface/pagination.interface';\r\n\r\n@Controller('unit')\r\nexport class UnitController extends BaseControllerSetup<\r\n  Unit,\r\n  UnitOrm,\r\n  UnitResponse,\r\n  CreateUnitDto,\r\n  UpdateUnitDto\r\n> {\r\n  constructor(\r\n    private readonly createUnitUseCase: CreateUnitUseCase,\r\n    private readonly updateUnitUseCase: UpdateUnitUseCase,\r\n    private readonly findAllUnitUseCase: FindAllUnitUseCase,\r\n    private readonly updateActiveUnitUseCase: ActiveUnitUseCase,\r\n    protected readonly findOneUnitUseCase: FindOneUnitUseCase,\r\n    protected readonly hardDeleteUnitUseCase: HardDeleteUnitUseCase,\r\n    protected readonly softDeleteUnitUseCase: SoftDeleteUnitUseCase,\r\n    protected readonly restoreUnitUseCase: RestoreUnitUseCase,\r\n  ) {\r\n    super({\r\n      mapper: UnitMapper,\r\n      findOne: findOneUnitUseCase,\r\n      hardDelete: hardDeleteUnitUseCase,\r\n      softDelete: softDeleteUnitUseCase,\r\n      restore: restoreUnitUseCase,\r\n    });\r\n  }\r\n  @Post('')\r\n  async create(@Body() dto: CreateUnitDto): Promise<UnitResponse> {\r\n    return UnitMapper.toResponse(await this.createUnitUseCase.execute(dto));\r\n  }\r\n  @Patch(':id')\r\n  async update(\r\n    @Param('id') id: number,\r\n    @Body() dto: UpdateUnitDto,\r\n  ): Promise<UnitResponse> {\r\n    return UnitMapper.toResponse(await this.updateUnitUseCase.execute(id, dto));\r\n  }\r\n  @Get('')\r\n  async findAll(\r\n    @Query() query: PaginationDto,\r\n  ): Promise<PaginatedResponse<UnitResponse>> {\r\n    return UnitMapper.toResponseList(\r\n      await this.findAllUnitUseCase.execute(query),\r\n    );\r\n  }\r\n  // custom endpoint only for Unit\r\n  @Patch('active-update/:id')\r\n  async activeUpdate(\r\n    @Param('id') id: number,\r\n    @Body() dto: ActiveDto,\r\n  ): Promise<UnitResponse> {\r\n    return UnitMapper.toResponse(\r\n      await this.updateActiveUnitUseCase.execute(id, dto),\r\n    );\r\n  }\r\n}\r\n"
        }
    ]
}